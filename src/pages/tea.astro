---
import ContentLayout from "../layouts/ContentLayout.astro";

interface Tea {
  name: string;
  country: string;
  region?: string;
  flush?: number;
  price?: number;
  rating: number;
  comment?: string;
  link?: string;
  original_label?: string;
}

const teas: Tea[] = [
  {
    name: "Dejoo",
    country: "in",
    region: "Assam",
    price: 0,
    rating: 3,
    comment: "Standard black tea, best used for masala or other milk teas.",
    original_label:
      'StÅ™ednÃ­ tÅ™Ã­da assÃ¡mskÃ©ho ÄernÃ©ho Äaje typu broken, plnÃ¡, lehce natrpklÃ¡ chuÅ¥, vhodnÃ½ k bÄ›Å¾nÃ©mu popÃ­jenÃ­ s mlÃ©kem a medem Äi k pÅ™Ã­pravÄ› Yogi (indickÃ©ho "bÃ­lÃ©ho" Äaje).',
  },
  {
    name: "Karigane (Asanoka)",
    country: "jp",
    region: "Kagoshima, Kirishima",
    flush: 0,
    rating: 2,
    comment: "These teas are probably not my thing...",
    link: "https://www.caj.cz/japan-kagoshima-kirishima-shincha-asanoka~z464-000374.html",
  },
  {
    name: "Sungma DJ 05/2025",
    country: "in",
    region: "Darjeling",
    flush: 0,
    price: 2,
    rating: 4,
    comment: "Great black tea, fresh flavor and with hints of herbs and spices."
  }
];

const countries: { [index: string]: string[] } = {
  in: ["India", "ğŸ‡®ğŸ‡³"],
  jp: ["Japan", "ğŸ‡¯ğŸ‡µ"],
};

const flushes = ["Spring/Early", "Summer/Late"];
const ratings = ["ğŸš®", "Never again", "Depends on the day", "Would buy again", "Love it"]
---

<ContentLayout pageId="projects" pageTitle="Teas" fullscreen={true}>
  <div class="mb-3">
    <h3>Ratings legend:</h3>
    <ul>
      <li>â­â­â­â­â­ - Love it</li>
      <li>â­â­â­â­ - Would buy again</li>
      <li>â­â­â­ - Depends on the day</li>
      <li>â­â­ - Never again</li>
      <li>â­ - ğŸš®</li>
    </ul>
  </div>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Country</th>
        <th>Region</th>
        <th>Flush</th>
        <th>Price</th>
        <th>Rating</th>
        <th>Comment</th>
      </tr>
    </thead>
    <tbody>
      {
        teas
          .sort((a, b) => {
            if (a.country < b.country) {
              return -1;
            } else if (a.country > b.country) {
              return 1;
            } else {
              return 0;
            }
          })
          .map((tea) => (
            <tr>
              <td title={tea.original_label}>
                {tea.link ? <a href={tea.link} target="_blank">{tea.name}</a> : tea.name}
              </td>
              <td style="white-space: nowrap">{countries[tea.country].join(" ")}</td>
              <td>{tea.region}</td>
              <td>{(tea.flush === undefined) ? "-" : flushes[tea.flush]}</td>
              <td>{tea.price ? ("ğŸ’²".repeat(tea.price + 1)) : "-"}</td>
              <td>{ratings[tea.rating]}</td>
              <td>
                <i>{tea.comment ?? "No comment"}</i>
              </td>
            </tr>
          ))
      }
    </tbody>
  </table>
</ContentLayout>

<style>
  table,
  th,
  td {
    border: 1px solid var(--ctp-overlay0);
    border-collapse: collapse;
  }

  table {
    width: 100%;
    text-align: left;
  }

  th,
  td {
    padding: 0.5rem;
  }
</style>
